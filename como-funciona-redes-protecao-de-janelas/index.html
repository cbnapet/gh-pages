<!DOCTYPE html><html lang="pt-br"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>A Mecânica das Redes de Proteção para Janelas - CB na Pet</title><meta name="description" content="No universo da segurança residencial, poucos elementos são tão onipresentes e, ao mesmo tempo, tão subestimados quanto as redes de proteção para janelas. Elas são uma barreira visualmente discreta que representa a fronteira entre a paz de espírito e o risco iminente. Contudo, por trás&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://cbnapet.com.br/como-funciona-redes-protecao-de-janelas/"><meta property="og:title" content="A Mecânica das Redes de Proteção para Janelas"><meta property="og:image" content="https://cbnapet.com.br/media/posts/26/images-1.jpg"><meta property="og:image:width" content="282"><meta property="og:image:height" content="179"><meta property="og:site_name" content="CB na Pet"><meta property="og:description" content="No universo da segurança residencial, poucos elementos são tão onipresentes e, ao mesmo tempo, tão subestimados quanto as redes de proteção para janelas. Elas são uma barreira visualmente discreta que representa a fronteira entre a paz de espírito e o risco iminente. Contudo, por trás&hellip;"><meta property="og:url" content="https://cbnapet.com.br/como-funciona-redes-protecao-de-janelas/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://cbnapet.com.br/media/website/cropped-cropped-pngtree-cute-dog-vector-png-image_66120771-2.png" type="image/x-icon"><link rel="stylesheet" href="https://cbnapet.com.br/assets/css/style.css?v=e165a1abaff8d6a2acb7e5ad2f6fc840"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://cbnapet.com.br/como-funciona-redes-protecao-de-janelas/"},"headline":"A Mecânica das Redes de Proteção para Janelas","datePublished":"2025-07-22T17:07+00:00","dateModified":"2025-07-22T17:07+00:00","image":{"@type":"ImageObject","url":"https://cbnapet.com.br/media/posts/26/images-1.jpg","height":179,"width":282},"description":"No universo da segurança residencial, poucos elementos são tão onipresentes e, ao mesmo tempo, tão subestimados quanto as redes de proteção para janelas. Elas são uma barreira visualmente discreta que representa a fronteira entre a paz de espírito e o risco iminente. Contudo, por trás&hellip;","author":{"@type":"Person","name":"Felix Cat","url":"https://cbnapet.com.br/autor/felix-cat/"},"publisher":{"@type":"Organization","name":"Felix Cat","logo":{"@type":"ImageObject","url":"https://cbnapet.com.br/media/website/cropped-cropped-pngtree-cute-dog-vector-png-image_66120771.png","height":171,"width":512}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><div class="container js-container"><div class="container__content"><header class="top"><div class="top__item"><a class="logo" href="https://cbnapet.com.br/"><img src="https://cbnapet.com.br/media/website/cropped-cropped-pngtree-cute-dog-vector-png-image_66120771.png" alt="CB na Pet" width="512" height="171"></a></div><div class="top__item top__item--right"></div></header><main class="main post"><article class="content"><div class="main__left"><figure class="hero"><img src="https://cbnapet.com.br/media/posts/26/images-1.jpg" loading="eager" height="179" width="282" alt=""></figure><header><h1>A Mecânica das Redes de Proteção para Janelas</h1><p><time datetime="2025-07-22T17:07">22/07/2025 </time>por <a href="https://cbnapet.com.br/autor/felix-cat/" rel="author" title="Felix Cat">Felix Cat</a></p></header></div><div class="main__right"><div class="content__entry"><div id="model-response-message-contentr_d330336c80ccc5fc" class="markdown markdown-main-panel stronger enable-updated-hr-color" dir="ltr"><p>No universo da segurança residencial, poucos elementos são tão onipresentes e, ao mesmo tempo, tão subestimados quanto as <strong>redes de proteção para janelas</strong>. Elas são uma barreira visualmente discreta que representa a fronteira entre a paz de espírito e o risco iminente. Contudo, por trás da sua aparente simplicidade, existe um complexo sistema de engenharia de materiais, física e técnicas de instalação que garantem a sua eficácia. Compreender como estas redes funcionam não é apenas uma curiosidade, mas um passo fundamental para tomar a decisão mais informada e segura para a sua família e os seus animais de estimação. Neste artigo, desvendaremos camada por camada, fio a fio, a ciência que torna as redes de proteção um pilar indispensável da segurança moderna.</p><hr><p> </p><h3><strong>A Alma da Rede: A Escolha Estratégica dos Materiais</strong></h3><p> </p><p>A eficácia de uma rede de proteção começa na sua composição molecular. Não se trata de um simples conjunto de fios, mas sim de polímeros de alta tecnologia, desenvolvidos especificamente para resistir a condições extremas. Os dois materiais predominantes no mercado são o <strong>polietileno</strong> e a <strong>poliamida</strong>, e a escolha entre eles é crucial.</p><ul><li><p><strong>Polietileno de Alta Densidade (PEAD):</strong> Este é, sem dúvida, o material de eleição para a grande maioria das aplicações de segurança externa, como janelas e sacadas. O polietileno é 100% impermeável, o que significa que não absorve água da chuva e não sofre com a umidade, evitando o apodrecimento e a perda de resistência. Mais importante ainda, as redes de <strong>polietileno</strong> de qualidade recebem um tratamento com aditivos especiais durante a sua extrusão. Estes aditivos combatem os raios ultravioleta (UV) do sol, que são os principais vilões da degradação de polímeros, e também antioxidantes, que previnem o envelhecimento precoce do material. Uma rede de polietileno virgem, sem adição de material reciclado, garante uma resistência uniforme e previsível, sendo capaz de suportar impactos de centenas de quilos por metro quadrado.</p></li><li><p><strong>Poliamida (Nylon):</strong> A poliamida é um material com uma textura mais suave, semelhante a um tecido. Embora possua uma boa resistência à tração, a sua principal desvantagem é a alta absorção de umidade. Quando exposta à chuva e ao sol, a poliamida tende a deteriorar-se rapidamente, perdendo a sua capacidade de proteção em poucos meses. Por esta razão, o seu uso é restrito a ambientes internos, como para proteção de camas ou em aplicações decorativas, e nunca deve ser utilizada em janelas ou varandas.</p></li></ul><p>Portanto, ao escolhermos uma rede, a primeira especificação técnica que devemos exigir é que seja confeccionada com <strong>fios 100% virgens de polietileno de alta densidade</strong>, com tratamento anti-UV e antioxidante.</p><hr><p> </p><h3><strong>A Trama da Segurança: Nós, Malhas e a Norma ABNT</strong></h3><p> </p><p>Com a matéria-prima correta, o próximo passo é a fabricação da trama. A forma como os fios são entrelaçados define a resistência e a integridade da rede.</p><ul><li><p><strong>Os Nós:</strong> O método mais seguro e utilizado na indústria é o do <strong>nó duplo termo-fixado</strong>. Este processo garante que, mesmo que um fio da malha se rompa (por um ato de vandalismo, por exemplo), o nó não se desfaz. Isto impede que a malha se abra e que o vão de proteção seja comprometido. Redes sem nós ou com nós simples podem desfazer-se em cadeia, criando um perigo enorme.</p></li><li><p><strong>A Malha:</strong> A distância entre os nós é o que define o tamanho da malha. A escolha da malha correta depende diretamente do propósito da proteção:</p><ul><li><p><strong>Malha 5x5 cm:</strong> É a mais comum e versátil, indicada para a <strong>segurança de crianças, adultos e animais de estimação de porte médio a grande</strong>. Ela impede a passagem do corpo humano e oferece um excelente equilíbrio entre segurança e visibilidade.</p></li><li><p><strong>Malha 3x3 cm:</strong> Específica para animais de estimação menores, como gatos, filhotes de cães e pássaros. Esta malha menor impede que até os animais mais curiosos e ágeis consigam passar a cabeça pelo vão, evitando acidentes.</p></li></ul></li></ul><p>A qualidade e as especificações de todo o sistema são rigorosamente regulamentadas pela <strong>norma ABNT NBR 16046</strong>. Esta norma estabelece os requisitos mínimos de resistência, durabilidade e instalação. Exigir que a rede e a instalação sigam esta norma é a sua maior garantia de que está a adquirir um produto que foi testado e aprovado em laboratórios para suportar as condições para as quais foi projetado.</p><hr><p> </p><h3><strong>Instalação Profissional: O Elo Decisivo na Corrente da Segurança</strong></h3><p> </p><p>De nada adianta ter a melhor rede do mercado se a instalação for deficiente. A instalação é um processo técnico que exige conhecimento, experiência e as ferramentas adequadas. É o elo que conecta a engenharia do produto à estrutura do seu imóvel, e qualquer falha neste ponto pode comprometer todo o sistema.</p><p>O processo de uma <strong>instalação profissional</strong> segue um rigoroso protocolo:</p><ol start="1"><li><p><strong>Análise Estrutural:</strong> O técnico avalia a superfície onde a rede será fixada (concreto, alvenaria, estrutura metálica) para determinar o tipo de bucha e gancho mais adequado. Buchas para paredes ocas são diferentes das utilizadas em concreto maciço.</p></li><li><p><strong>Furação e Fixação:</strong> Os furos são feitos em distâncias calculadas, geralmente entre 25 a 30 cm, para garantir uma distribuição uniforme da tensão. São utilizados <strong>ganchos de aço inoxidável ou aço galvanizado a fogo</strong>, que resistem à corrosão e não enferrujam com o tempo, o que comprometeria a segurança.</p></li><li><p><strong>Ancoragem e Tensão:</strong> A rede é fixada nos ganchos e, em seguida, uma corda de segurança, com a mesma especificação de material da rede, é passada por toda a periferia. É esta corda que permite ao instalador aplicar a <strong>tensão correta</strong>. Uma rede demasiado frouxa não cumpre a sua função de barreira, enquanto uma rede excessivamente esticada pode sobrecarregar os ganchos e os fios. O tensionamento correto é uma arte que só a experiência proporciona.</p></li></ol><hr><p> </p><h3><strong>Aplicações Expandidas e Cuidados Essenciais</strong></h3><p> </p><p>Embora a principal função seja a proteção contra quedas, a versatilidade do polietileno permite outras aplicações importantes. A estrutura pode ser adaptada para proteger áreas contra a entrada de animais indesejados. Um exemplo proeminente são as <a target="_blank" rel="noopener" externallink="" _nghost-ng-c1898840891="" jslog="197247;track:generic_click,impression;BardVeMetadataKey:[[&quot;r_d330336c80ccc5fc&quot;,&quot;c_07deb41e36f71c3c&quot;,null,&quot;rc_807f963471509246&quot;,null,null,&quot;pt&quot;,null,1,null,null,1,0]]" href="https://www.telasantipassaros.com.br/" class="ng-star-inserted">redes anti pombos</a>, que utilizam os mesmos princípios de fixação para impedir que estas aves pousem, façam ninhos e causem danos e sujeira em fachadas, telhados e equipamentos de ar condicionado, protegendo assim o património e a saúde.</p><p>Para garantir a <strong>longevidade</strong> da sua rede de proteção, que pode chegar a mais de 8 anos, os cuidados são simples: a limpeza deve ser feita apenas com um pano húmido e sabão neutro. Nunca utilize produtos químicos, abrasivos ou objetos cortantes. É fundamental também realizar inspeções visuais periódicas e, ao final do prazo de validade estipulado pelo fabricante, providenciar a substituição, mesmo que a rede aparente estar em bom estado, pois os aditivos de proteção UV perdem a sua eficácia com o tempo.</p><p>Em suma, as <strong>redes de proteção</strong> são um produto de alta tecnologia. O seu funcionamento depende da sinergia perfeita entre a química dos polímeros, a física da resistência dos materiais e a técnica apurada da instalação. Ao investirmos numa rede de proteção certificada e instalada por profissionais qualificados, não estamos apenas a comprar um produto, estamos a investir ativamente na tranquilidade e na <strong>segurança intransigente</strong> daqueles que mais amamos.</p></div><footer><div class="content__tag-share"><ul class="content__tag"><li><a href="https://cbnapet.com.br/categoria/informacoes-e-dicas/">Informações e Dicas</a></li></ul><div class="content__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fcbnapet.com.br%2Fcomo-funciona-redes-protecao-de-janelas%2F" class="js-share facebook" aria-label="Compartilhar no Facebook" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://cbnapet.com.br/assets/svg/svg-map.svg#facebook"/></svg></a></div></div><div class="content__bio"><h3><a href="https://cbnapet.com.br/autor/felix-cat/" title="Felix Cat">Felix Cat</a></h3></div></footer></div></div></article><div class="main__right main__right--bottom"><div class="related"><h2 class="related__title">Conteúdo relacionado</h2><ul class="related__items"><li class="related__item"><h3 class="h5"><a href="https://cbnapet.com.br/qual-o-segredo-para-o-sucesso-no-ensino-canino-em-casa/">Qual o segredo para o sucesso no ensino canino em casa?</a></h3><time datetime="2025-09-30T00:00" class="feed__meta">30/09/2025</time></li><li class="related__item"><h3 class="h5"><a href="https://cbnapet.com.br/dicas-para-o-primeiro-passei-do-seu-cao/">Dicas para o primeiro passeio do seu cão</a></h3><time datetime="2025-09-09T00:00" class="feed__meta">09/09/2025</time></li><li class="related__item"><h3 class="h5"><a href="https://cbnapet.com.br/5-dicas-para-manter-a-caixa-de-areia-sempre-limpa-e-cheirosa/">5 Dicas para Manter a Caixa de Areia Sempre Limpa e Cheirosa</a></h3><time datetime="2025-08-22T23:54" class="feed__meta">22/08/2025</time></li><li class="related__item"><h3 class="h5"><a href="https://cbnapet.com.br/viajar-de-aviao-com-pets-guia-completo-para-uma-viagem-tranquila-e-segura/">Viajar de Avião com Pets: Guia Completo para uma Viagem Tranquila e Segura</a></h3><time datetime="2025-05-24T01:00" class="feed__meta">24/05/2025</time></li><li class="related__item"><h3 class="h5"><a href="https://cbnapet.com.br/aspirador-robo-e-um-bom-investimento-para-casas-com-pets/">Aspirador robô é um bom investimento para casas com pets?</a></h3><time datetime="2024-11-25T00:35" class="feed__meta">25/11/2024</time></li><li class="related__item"><h3 class="h5"><a href="https://cbnapet.com.br/guia-encontra-teresina-tudo-para-seu-pet-em-um-so-lugar/">Guia Encontra Teresina: Tudo para Seu Pet em Um Só Lugar</a></h3><time datetime="2024-09-06T12:36" class="feed__meta">06/09/2024</time></li></ul></div></div></main><footer class="footer"><div class="footer__copyright">@2025</div></footer></div></div><script defer="defer" src="https://cbnapet.com.br/assets/js/scripts.min.js?v=1ea8317abae2e05fa2a65ed7bbff7ba7"></script><script>var images = document.querySelectorAll('img[loading]');
   
           for (var i = 0; i < images.length; i++) {
               if (images[i].complete) {
                   images[i].classList.add('is-loaded');
               } else {
                   images[i].addEventListener('load', function () {
                       this.classList.add('is-loaded');
                   }, false);
               }
           }</script><footer id="footer"><p class="copyright"><a href="https://cbnapet.com.br/politica-de-privacidade/" title="Política de Privacidade">Política de Privacidade</a> | <a href="https://cbnapet.com.br/contato/" title="Contato">Contato |</a> <a href="https://cbnapet.com.br/termos-e-condicoes/" title="Termos e Condições">Termos e Condições</a></p><p class="copyright">©2025 - Todos os Direitos Reservados<br><br></p></footer><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">This website uses cookies</div><div id="pcb-txt" class="pcb__txt">Select which cookies to opt-in to via the checkboxes below; our website uses cookies to examine site traffic and user activity while on our site, for marketing, and to provide social media functionality. <a href="#not-specified">More details...</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Manage preferences</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Cookie settings</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. <a href="#not-specified">More details...</a></div><ul class="pcb__groups"></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button> <button type="button" class="pcb__btn pcb__btn--save">Save settings</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Cookie Policy" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
       if (!document.querySelector('.pcb')) {
           return;
       }
   
       var cbConfig = {
           behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
           behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
           revision: document.querySelector('.pcb').getAttribute('data-revision'),
           configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
           debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
           initialState: null,
           initialLsState: null,
           previouslyAccepted: []
       };
   
       var cbUI = {
           wrapper: document.querySelector('.pcb'),
           banner: {
               element: null,
               btnAccept: null,
               btnReject: null,
               btnConfigure: null
           },
           popup: {
               element: null,
               btnClose: null,
               btnSave: null,
               btnAccept: null,
               btnReject: null,
               checkboxes: null,
           },
           overlay: null,
           badge: null,
           blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
           triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
       };
   
       function initUI () {
           // setup banner elements
           cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
           cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
           cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
           cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');
   
           // setup popup elements
           if (cbUI.wrapper.querySelector('.pcb__popup')) {
               cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
               cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
               cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
               cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
               cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
               cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
               // setup overlay
               cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
           }
   
           cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');
   
           if (cbConfig.behaviour.indexOf('link') > -1) {
               for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                   cbUI.triggerLinks[i].addEventListener('click', function(e) {
                       e.preventDefault();
                       showBannerOrPopup();
                   });
               }
           }
       }
   
       function initState () {
           var lsKeyName = getConfigName();
           var currentConfig = localStorage.getItem(lsKeyName);
           var configIsFresh = checkIfConfigIsFresh();
   
           if (!configIsFresh || currentConfig === null) {
               if (cbConfig.debugMode) {
                   console.log('🍪 Config not found, or configuration expired');
               }
   
               if (window.publiiCBGCM) {
                   gtag('consent', 'default', {
                       'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                       'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                       'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                       'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                       'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                       'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                       'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                   });  
                   
                   if (cbConfig.debugMode) {
                       console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                           'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                           'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                           'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                           'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                           'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                           'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                           'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                       }));
                   }
               }
   
               showBanner();
           } else if (typeof currentConfig === 'string') {
               if (cbConfig.debugMode) {
                   console.log('🍪 Config founded');
               }
   
               cbConfig.initialLsState = currentConfig.split(',');
   
               if (window.publiiCBGCM) {
                   gtag('consent', 'default', {
                       'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                       'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                       'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                       'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                       'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                       'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                       'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                   });
                   
                   if (cbConfig.debugMode) {
                       console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                           'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                           'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                           'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                           'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                           'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                           'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                           'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                       }));
                   }
               }
   
               showBadge();
   
               if (cbUI.popup.element) {
                   var allowedGroups = currentConfig.split(',');
                   var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
   
                   for (var j = 0; j < checkedCheckboxes.length; j++) {
                       var name = checkedCheckboxes[j].getAttribute('data-group-name');
   
                       if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                           checkedCheckboxes[j].checked = false;
                       }
                   }
   
                   for (var i = 0; i < allowedGroups.length; i++) {
                       var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');
   
                       if (checkbox) {
                           checkbox.checked = true;
                       }
   
                       allowCookieGroup(allowedGroups[i]);
                   }
               }
           }
   
           setTimeout(function () {
               cbConfig.initialState = getInitialStateOfConsents();
           }, 0);
       }
   
       function checkIfConfigIsFresh () {
           var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');
   
           if (lastConfigSave === null) {
               return false;
           }
   
           lastConfigSave = parseInt(lastConfigSave, 10);
   
           if (lastConfigSave === 0) {
               return true;
           }
   
           if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
               return true;
           }
   
           return false;
       }
   
       function getDefaultConsentState (currentConfig, consentGroup) {
           let configGroups = currentConfig.split(',');
   
           for (let i = 0; i < configGroups.length; i++) {
               let groupName = configGroups[i];
               let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);
   
               if (group && group[consentGroup]) {
                   return 'granted';
               }
           }  
           
           if (window.publiiCBGCM.defaultState[consentGroup]) {
               return 'granted'; 
           }
           
           return 'denied';
       }
   
       function initBannerEvents () {
           cbUI.banner.btnAccept.addEventListener('click', function (e) {
               e.preventDefault();
               acceptAllCookies('banner');
               showBadge();
           }, false);
   
           if (cbUI.banner.btnReject) {
               cbUI.banner.btnReject.addEventListener('click', function (e) {
                   e.preventDefault();
                   rejectAllCookies();
                   showBadge();
               }, false);
           }
   
           if (cbUI.banner.btnConfigure) {
               cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                   e.preventDefault();
                   hideBanner();
                   showAdvancedPopup();
                   showBadge();
               }, false);
           }
       }
   
       function initPopupEvents () {
           if (!cbUI.popup.element) {
               return;
           }
   
           cbUI.overlay.addEventListener('click', function (e) {
               hideAdvancedPopup();
           }, false);
   
           cbUI.popup.element.addEventListener('click', function (e) {
               e.stopPropagation();
           }, false);
   
           cbUI.popup.btnAccept.addEventListener('click', function (e) {
               e.preventDefault();
               acceptAllCookies('popup');
           }, false);
   
           cbUI.popup.btnReject.addEventListener('click', function (e) {
               e.preventDefault();
               rejectAllCookies();
           }, false);
   
           cbUI.popup.btnSave.addEventListener('click', function (e) {
               e.preventDefault();
               saveConfiguration();
           }, false);
   
           cbUI.popup.btnClose.addEventListener('click', function (e) {
               e.preventDefault();
               hideAdvancedPopup();
           }, false);
       }
   
       function initBadgeEvents () {
           if (!cbUI.badge) {
               return;
           }
   
           cbUI.badge.addEventListener('click', function (e) {
               showBannerOrPopup();
           }, false);
       }
   
       initUI();
       initState();
       initBannerEvents();
       initPopupEvents();
       initBadgeEvents();
   
       /**
        * API
        */
       function addScript (src, inline) {
           var newScript = document.createElement('script');
   
           if (src) {
               newScript.setAttribute('src', src);
           }
   
           if (inline) {
               newScript.text = inline;
           }
   
           document.body.appendChild(newScript);
       }
   
       function allowCookieGroup (allowedGroup) {
           var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
           cbConfig.previouslyAccepted.push(allowedGroup);
       
           for (var j = 0; j < scripts.length; j++) {
               addScript(scripts[j].src, scripts[j].text);
           }
   
           var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
           document.body.dispatchEvent(groupEvent);
           unlockEmbeds(allowedGroup);
   
           if (cbConfig.debugMode) {
               console.log('🍪 Allowed group: ' + allowedGroup);
           }
   
           if (window.publiiCBGCM && (!cbConfig.initialLsState || cbConfig.initialLsState.indexOf(allowedGroup) === -1)) {
               let consentResult = {};
               let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);
   
               if (group) {
                   let foundSomeConsents = false;
   
                   Object.keys(group).forEach(key => {
                       if (key !== 'cookieGroup' && group[key] === true) {
                           consentResult[key] = 'granted';
                           foundSomeConsents = true;
                       }
                   });
   
                   if (foundSomeConsents) {
                       gtag('consent', 'update', consentResult);   
   
                       if (cbConfig.debugMode) {
                           console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                       }
                   }
               }
           }
       }
   
       function showBannerOrPopup () {
           if (cbUI.popup.element) {
               showAdvancedPopup();
           } else {
               showBanner();
           }
       }
   
       function showAdvancedPopup () {
           cbUI.popup.element.classList.add('is-visible');
           cbUI.overlay.classList.add('is-visible');
           cbUI.popup.element.setAttribute('aria-hidden', 'false');
           cbUI.overlay.setAttribute('aria-hidden', 'false');
       }
   
       function hideAdvancedPopup () {
           cbUI.popup.element.classList.remove('is-visible');
           cbUI.overlay.classList.remove('is-visible');
           cbUI.popup.element.setAttribute('aria-hidden', 'true');
           cbUI.overlay.setAttribute('aria-hidden', 'true');
       }
   
       function showBanner () {
           cbUI.banner.element.classList.add('is-visible');
           cbUI.banner.element.setAttribute('aria-hidden', 'false');
       }
   
       function hideBanner () {
           cbUI.banner.element.classList.remove('is-visible');
           cbUI.banner.element.setAttribute('aria-hidden', 'true');
       }
   
       function showBadge () {
           if (!cbUI.badge) {
               return;
           }
   
           cbUI.badge.classList.add('is-visible');
           cbUI.badge.setAttribute('aria-hidden', 'false');
       }
   
       function getConfigName () {
           var lsKeyName = 'publii-gdpr-allowed-cookies';
   
           if (cbConfig.revision) {
               lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
           }
   
           return lsKeyName;
       }
   
       function storeConfiguration (allowedGroups) {
           var lsKeyName = getConfigName();
           var dataToStore = allowedGroups.join(',');
           localStorage.setItem(lsKeyName, dataToStore);
   
           if (cbConfig.configTTL === 0) {
               localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);
   
               if (cbConfig.debugMode) {
                   console.log('🍪 Store never expiring configuration');
               }
           } else {
               localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
           }
       }
   
       function getInitialStateOfConsents () {
           if (!cbUI.popup.element) {
               return [];
           }
   
           var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
           var groups = [];
   
           for (var i = 0; i < checkedGroups.length; i++) {
               var allowedGroup = checkedGroups[i].getAttribute('data-group-name');
   
               if (allowedGroup !== '') {
                   groups.push(allowedGroup);
               }
           }
   
           if (cbConfig.debugMode) {
               console.log('🍪 Initial state: ' + groups.join(', '));
           }
   
           return groups;
       }
   
       function getCurrentStateOfConsents () {
           if (!cbUI.popup.element) {
               return [];
           }
   
           var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
           var groups = [];
   
           for (var i = 0; i < checkedGroups.length; i++) {
               var allowedGroup = checkedGroups[i].getAttribute('data-group-name');
   
               if (allowedGroup !== '') {
                   groups.push(allowedGroup);
               }
           }
   
           if (cbConfig.debugMode) {
               console.log('🍪 State to save: ' + groups.join(', '));
           }
   
           return groups;
       }
   
       function getAllGroups () {
           if (!cbUI.popup.element) {
               return [];
           }
   
           var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
           var groups = [];
   
           for (var i = 0; i < checkedGroups.length; i++) {
               var allowedGroup = checkedGroups[i].getAttribute('data-group-name');
   
               if (allowedGroup !== '') {
                   groups.push(allowedGroup);
               }
           }
   
           return groups;
       }
   
       function acceptAllCookies (source) {
           var groupsToAccept = getAllGroups();
           storeConfiguration(groupsToAccept);
   
           for (var i = 0; i < groupsToAccept.length; i++) {
               var group = groupsToAccept[i];
   
               if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                   if (cbConfig.debugMode) {
                       console.log('🍪 Skip previously activated group: ' + group);
                   }
   
                   continue;
               }
   
               allowCookieGroup(group);
           }
   
           if (cbUI.popup.element) {
               var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
   
               for (var j = 0; j < checkboxesToCheck.length; j++) {
                   checkboxesToCheck[j].checked = true;
               }
           }
   
           if (cbConfig.debugMode) {
               console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
           }
   
           if (source === 'popup') {
               hideAdvancedPopup();
           } else if (source === 'banner') {
               hideBanner();
           }
       }
   
       function rejectAllCookies () {
           if (cbConfig.debugMode) {
               console.log('🍪 Reject all cookies');
           }
   
           storeConfiguration([]);
           setTimeout(function () {
               window.location.reload();
           }, 100);
       }
   
       function saveConfiguration () {
           var groupsToAccept = getCurrentStateOfConsents();
           storeConfiguration(groupsToAccept);
   
           if (cbConfig.debugMode) {
               console.log('🍪 Save new config: ', groupsToAccept.join(', '));
           }
   
           if (reloadIsNeeded(groupsToAccept)) {
               setTimeout(function () {
                   window.location.reload();
               }, 100);
               return;
           }
   
           for (var i = 0; i < groupsToAccept.length; i++) {
               var group = groupsToAccept[i];
   
               if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                   if (cbConfig.debugMode) {
                       console.log('🍪 Skip previously activated group: ' + group);
                   }
   
                   continue;
               }
   
               allowCookieGroup(group);
           }
   
           hideAdvancedPopup();
       }
   
       function reloadIsNeeded (groupsToAccept) {
           // check if user rejected consent for initial groups
           var initialGroups = cbConfig.initialState;
           var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
           var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);
   
           for (var i = 0; i < groupsToCheck.length; i++) {
               var groupToCheck = groupsToCheck[i];
   
               if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                   if (cbConfig.debugMode) {
                       console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                   }
   
                   return true;
               }
           }
   
           return false;
       }
   
       function unlockEmbeds (cookieGroup) {
           var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');
   
           for (var i = 0; i < iframesToUnlock.length; i++) {
               var iframeWrapper = iframesToUnlock[i];
               iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
               iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
               var iframe = iframeWrapper.querySelector('iframe');
               iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
           }
       }
   
       win.publiiEmbedConsentGiven = function (cookieGroup) {
           // it will unlock embeds
           allowCookieGroup(cookieGroup);
   
           var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');
   
           if (checkbox) {
               checkbox.checked = true;
           }
   
           var groupsToAccept = getCurrentStateOfConsents();
           storeConfiguration(groupsToAccept);
   
           if (cbConfig.debugMode) {
               console.log('🍪 Save new config: ', groupsToAccept.join(', '));
           }
       }
   })(window);</script></body></html>